<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
    // const a = {
    //     b: function () {
    //         const foo = function () {
    //             console.log(this) // window
    //         }
    //         foo() // window
    //         foo.bind(this)() // {c: "hello", b: ƒ}
    //     },
    //     c: 'hello'
    // }

    // a.b()

    // Function.prototype._bind = function(ctx) {
    //     const self = this
    //     return function() {
    //         return self.apply(ctx, arguments)
    //     }
    // }

    // function test() {
    //     return this.name
    // }
    // const person = {
    //     name: 'tang'
    // }
    // console.log(test._bind(person)())


    Function.prototype._bind = function(ctx) {
        const self = this
        // const _args = [...arguments].slice(1)
        const _args = [].slice.call(arguments, 1)
        console.log('arguments: ' + _args)
        // console.log('arguments: ' + [...arguments])
 
        return function() {
            console.log('inner function arguments: ' + [...arguments])
            const finalArgs = _args.concat([...arguments])
            return self.apply(ctx, finalArgs)
        }
    }

    // 执行函数
    function _cat(i, j, k) {
        return this.init + ' : ' + i + ' : ' + j + " : " + k
    }

    const aa = {
        init: '111'
    }

    console.log(_cat._bind(aa, 5, 2)(0, 6, 6)) // 111 : 5 : 2 : 0
    </script>
</body>

</html>

</Datag>














