# Git
> 版本控制系统，远程托管，可以实现本地追踪、资源推送、提取修改。。

## ssh 配置
```bash
cd ~/.ssh
vim id_rsa.pub
```
复制公钥并添加到 Github/Gitlab

## git 常用命令
```bash
git init
git status
git add .
git commit -m ''
git branch -M main
git add origin git@...
git push origin -u master
```
> 其他
```git bash
git rm --cached // 从暂存区移除
git rm // 从暂存区和工作区移除

// 撤销暂存区内容
git reset HEAD <file> // 将文件内容从上次提交复制到缓存区
git reset --hard 59388e3<版本号> // HEAD 指针指回 59388e3 版本
git checkout HEAD -- <file> // 将内容从上次提交复制到工作目录

git reflog // 查看版本信息

59388e3 (HEAD -> master, origin/master, origin/HEAD) HEAD@{0}: clone: from http://xxx.git

git log // 版本详细信息
```
![image](./d479dc58dfc04d488f6188a2973686e8.png)

### 分支
1. branch
```bash
git branch // 列出所有分支
git branch -v // 查看当前分支
git branch main // 创建分支，未修改当前分支
git branch -b aaa // 创建新的 aaa 分支，并切换到 aaa
git checkout main // 切换分支到 main
git branch -m abc // 修改当前分支名为 abc
```

2. merge
```bash
git merge main
```
- 合并冲突
同一个文件中的同一个位置的修改，git 无法自动合并分支
```bash
Auto-merging hello.txt
CONFLICT (content): Merge conflict in hello.txt
Automatic merge failed; fix conflicts and then commit the result.
```
查看文件发现
```bash
something @ 11111
something @ 11111
something @ 22222222222222
something @ 11111
something @ 11111
something @ 11111
something @ 11111

<<<<<<< HEAD
something @ 333333
=======
something @ 4444444444
>>>>>>> main

something @ 22222
```

解决办法
> 删除标记及不需要的内容，并保留需要更改的内容
> 重新 add
> git commit -m 'something'
```bash
vim hello.txt
...
something @ 11111
something @ 11111
something @ 22222222222222
something @ 11111
something @ 11111
something @ 11111
something @ 11111

something @ 4444444444

something @ 22222

...

git add hello.txt
git commit -m 'merge'
```