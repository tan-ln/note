# 前端工程化

依据业务特点，将前端开发的规范、流程、技术、工具形成一种标准体系

通过工程化、自动化工具来提升效率

环境、技术选择、规范、预处理、项目打包、代码整合清理、转换、压缩、合并

热更新、代码校验、自动发布、版本管理

形成流水线

构建其实就是 工程化 自动化

# 浏览器原理
> 浏览器主要功能就是向服务器发起请求，在浏览器窗口显示资源，资源位置由 uri 指定

1. 浏览器分类
Trident 引擎：IE
Webkit 引擎：Chrome 、Safari
Gecko 引擎：FF

2. 浏览器组成部分
- 用户界面------------地址栏、前进后退、书签
- 浏览器引擎----------在用户界面和渲染引擎之间传递指令
- 渲染引擎------------接受网络请求的资源 HTML 等，解析并渲染
- 网络----------------网络请求 HTTP 等
- Javascript 引擎-----解析和执行 js 代码
- 数据存储------------cookie、localStorage

3. 渲染引擎
解析过程：
> 按顺序，从上到下 加载
- 解析 HTML 代码，构建 DOM 树
- 解析 CSS 代码，构建 CSSOM
- JavaScript 引擎解析 js 代码
- 构建渲染树（当遇到 img 等静态资源请求时，不会中断渲染，服务器返回图片时，需要重新渲染）
- 准备布局处理
- 绘制页面

4. 页面加载过程
- 输入 url
- 缓存判断，强缓存 到 协商缓存，首次访问或者缓存过期，重新请求
- DNS 解析
  - 搜索浏览器自身缓存的 DNS
  - 没有或过期，则搜索 系统的 hosts 文件，hosts 文件是本机缓存的 域名和 ip 对应，可以自己指定
  - 向 域名解析服务器请求解析，从根服务器向下递归、迭代解析
  - 获取 ip 地址
- TCP 请求（三次握手等）
- HTTP 请求
- 服务器收到请求，发出响应
- 服务器根据 请求头 决定是否关闭 TCP 连接（keep-alive ？），关闭则四次挥手
- 浏览器接受响应数据，解码
- 解析 DOM、CSSOM(css 规则树)、js 解析
- 渲染页面
- 静态资源请求并加载


# MVVM && MVC

MVVM 是近几年流行的一种前端框架的设计思想和架构,由 model + view + viewModel 组成

model 层是数据层，仅仅关系数据本身
view 视图层，用于数据和页面的展示
viewModel 数据和视图的映射

MVVM 架构下 view 和 model 之间没有直接的联系，而是通过 viewModel 进行双向交互，viewModel 通过双向数据绑定把 视图和模型 层连接起来，数据的变化会驱动视图更新，视图的变化也会同步更改数据

并且 Model 和 View 之间的同步是自动的，开发者只需关注业务逻辑，而无需手动进行 DOM 操作

MVC 与之相比则。。。

# 前端路由与后端路由
- 前端路由主要适用于 像 Vue 这样的 MVVM 模式的 SPA 单页应用
- 区别与传统多页应用，SPA 路由变化但页面不刷新，而是通过切换组件的形式，实现页面的改变

- 前端路由主要三种形式：hash | history | abstract
- hash 哈希路由使用 url 的哈希值作为路由，适用于各种浏览器，标志是在路由端口后面加上锚点 #
- hash 值的变化会触发 hashchange 事件，但不会提交请求，浏览器的前进后退可以控制， 在 h5 的 histor 出现前基本使用 hash

- hash 路由的问题，锚点不可用，传参不便（基于 url），# 丑

- history 路由，利用 h5 的history API （pushState | onPopState）
- 特点：url 好看像传统页面，传参方便，有历史记录，前进后退方便，
- 缺点：改变 url 会像服务器重新请求，需要服务器端配置，兼容性差


- 后端路由，根据 url 请求返回不同数据